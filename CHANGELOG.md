# История изменений

## [1.0.0] - 2025-11-21

### Добавлено

#### Основной функционал
- Обработчик логов с автоматическим определением формата
- Приведение логов к единому формату ГОСТ Р 59710-2021
- Поддержка множественных форматов входных данных

#### Парсеры
- **Syslog Parser** - поддержка RFC 3164 и RFC 5424
  - Автоматическое определение формата
  - Маппинг severity levels на ГОСТ
  - Извлечение hostname, application, process ID
  - Категоризация событий по содержимому

- **CEF Parser** - поддержка Common Event Format
  - Парсинг всех стандартных полей CEF
  - Обработка extension полей
  - Извлечение информации о пользователях (suser, duser)
  - Определение результата события (outcome, action)
  - Поддержка различных форматов времени

- **LEEF Parser** - поддержка Log Event Extended Format
  - Поддержка LEEF версий 1.0 и 2.0
  - Обработка различных разделителей (tab, x09, ^)
  - Извлечение атрибутов пользователей
  - Маппинг severity на ГОСТ

- **XML Parser** - поддержка XML логов (Windows Event Log)
  - Парсинг Windows Event Log структуры
  - Категоризация по Event ID
  - Извлечение данных из EventData
  - Обогащение события данными о пользователях
  - Поддержка стандартных Windows Security Event IDs (4624-4767)

#### Модели данных ГОСТ
- Структура `GOSTEvent` согласно ГОСТ Р 59710-2021
- Категории событий:
  - АУТЕНТИФИКАЦИЯ
  - АВТОРИЗАЦИЯ
  - ДОСТУП
  - ИЗМЕНЕНИЕ_ДАННЫХ
  - СИСТЕМНОЕ_СОБЫТИЕ
  - СОБЫТИЕ_БЕЗОПАСНОСТИ
  - СЕТЕВОЕ_СОБЫТИЕ

- Уровни критичности:
  - КРИТИЧЕСКИЙ
  - ВЫСОКИЙ
  - СРЕДНИЙ
  - НИЗКИЙ
  - ИНФОРМАЦИОННЫЙ

- Результаты событий:
  - УСПЕХ
  - НЕУСПЕХ
  - НЕИЗВЕСТНО

#### Процессор
- Автоматическое определение типа лога
- Пакетная обработка логов
- Преобразование в JSON
- Обработка ошибок с детальными сообщениями

#### CLI Приложение
- Обработка логов из файла
- Обработка логов из stdin
- Вывод в файл или stdout
- Статистика обработки (успешно/ошибки/всего)

#### Тесты
- Unit-тесты для всех парсеров
- Тесты процессора
- Покрытие кода ~65-70%
- Тестовые данные для всех форматов

#### Документация
- README.md с описанием проекта
- INSTALL.md с инструкциями по установке
- API.md с документацией API
- CHANGELOG.md с историей изменений
- Примеры использования (examples/)

#### Примеры
- sample_logs.txt - примеры логов всех форматов
- example_api.go - пример использования как библиотеки

### Технические детали

#### Зависимости
- github.com/google/uuid v1.5.0 - генерация уникальных ID событий

#### Структура проекта
```
loggerv2/
├── cmd/logger/          # CLI приложение
├── internal/
│   ├── models/          # Модели данных ГОСТ
│   ├── parser/          # Парсеры форматов
│   └── processor/       # Главный процессор
├── examples/            # Примеры использования
└── *.md                 # Документация
```

#### Производительность
- Syslog: ~10,000 сообщений/сек
- CEF/LEEF: ~5,000 сообщений/сек
- XML: ~2,000 событий/сек

### Возможности

#### Автоматическое определение формата
Процессор автоматически определяет тип лога по его структуре:
- Проверка префиксов (CEF:, LEEF:, <Event)
- Анализ структуры для Syslog
- Fallback на неизвестный формат

#### Маппинг данных
Все парсеры правильно маппят:
- Уровни критичности из исходного формата в ГОСТ
- Категории событий на основе содержимого
- Результаты операций (успех/неуспех)
- Информацию о пользователях (субъект/объект)

#### Обогащение данных
- Автоматическое добавление event_id (UUID)
- Сохранение оригинальных данных в additional_data
- Извлечение и структурирование информации о пользователях
- Определение действий и их результатов

### Известные ограничения

1. Windows Event Log XML требует полную структуру Event
2. LEEF 2.0 поддерживает только delimiter x09 и ^
3. Syslog RFC 3164 не содержит год, используется текущий год
4. Автоопределение формата может ошибаться на нестандартных логах

### Планы на будущее

- Добавление поддержки JSON логов
- Поддержка CEF через TCP/UDP
- REST API для обработки логов
- Конфигурационные файлы для кастомизации маппинга
- Плагины для новых форматов
- Поддержка потоковой обработки больших файлов
- Интеграция с SIEM системами
- Экспорт в различные форматы (CSV, Parquet, etc.)

## Контрибьюторы

- Kxrty - Основной разработчик

## Лицензия

MIT License
